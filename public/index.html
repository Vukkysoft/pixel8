<!DOCTYPE html>
<html>
    <head>
        <title>pixel.vukky.net</title>
        <meta name="robots" content="noindex">
        <style>
            .icon {
                image-rendering: pixelated;
            }
        </style>
    </head>
    <body>
        <h1>pixel.vukky.net</h1>
        <p><img src="assets/icons/fugue/image-share.png" class="icon"> I got tired of searching for pixel icons online, so this is a simple search tool that combines various icon packs into one search.</p>
        <p><b><img src="assets/icons/fatcow-16/image_link.png" class="icon"> Do not hotlink these icons. Please download them yourself.<br><img src="assets/icons/fatcow-16/emotion_shocked.png" class="icon"> Also, some icons may be offensive or inappropiate.</b></p>
        <img src="assets/icons/fatcow-16/report_magnify.png" class="icon"> Search the library: <input id="search" value="Loading..." oninput="showIcon(this.value)" disabled><br><br>
        <img src="assets/icons/fugue/eye--plus.png" class="icon"> See your results: <span id="rawr"></span>

        <h2><img src="assets/icons/fatcow-32/books.png" class="icon"> Licensing</h2>
        <p>This project uses icons from the following icon packs.<br>Please note that I am not affiliated with these websites.</p>
        <ul>
            <li><a href="https://p.yusukekamiyamane.com/">Fugue 3.5.6 by Yusuke Kamiyamane</a>, licensed under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a> (no-attribution license available for <a href="https://p.yusukekamiyamane.com/icons/license/">$69.95 USD</a>)</li>
            <li><a href="https://p.yusukekamiyamane.com/">Diagona 1.0.0 by Yusuke Kamiyamane</a>, licensed under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a> (no-attribution license available for <a href="https://p.yusukekamiyamane.com/icons/license/">$9.95 USD</a>)</li>
            <li><a href="https://www.fatcow.com/free-icons">"Farm-Fresh Web Icons" 3.9.2 by FatCow</a>, licensed under <a href="https://creativecommons.org/licenses/by/3.0/us/">CC BY 3.0 US</a></a></li>
            <li><a href="https://web.archive.org/web/20221129102416/http://www.famfamfam.com/lab/icons/silk/">Silk 1.3 by Mark James</a>, licensed under <a href="https://creativecommons.org/licenses/by/2.5/">CC BY 2.5</a> and <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a></li>
            <li><a href="https://web.archive.org/web/20221123224916/http://www.famfamfam.com/lab/icons/mini/">Mini by Mark James</a>, no restrictions on use</li>
            <li><a href="https://web.archive.org/web/20221130133606/http://www.famfamfam.com/lab/icons/flags/">Flags by Mark James</a>, no restrictions on use</li>
            <li><a href="https://web.archive.org/web/20221224123303/http://www.famfamfam.com/lab/icons/mint/">Mint 1.0 by Mark James</a>, licensed under <a href="https://creativecommons.org/licenses/by/2.5/">CC BY 2.5</a></li>
            <li><a href="https://github.com/damieng/silk-companion">Silk-Companion by Damien Guard</a>, based on Silk by Mark James, licensed under <a href="https://creativecommons.org/licenses/by/2.5/">CC BY 2.5</a> and <a href="https://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a></li>
        </ul>

        <script src="https://unpkg.com/@popperjs/core@2"></script>
        <script src="https://unpkg.com/tippy.js@6"></script>
        <script src="//unpkg.com/string-similarity/umd/string-similarity.min.js"></script>
        <script>
            tippy.delegate("body", {
                "target": ".icon",
                "allowHTML": true
            })

            let iconArray;
            async function fetchIcons() {
                iconArray = await fetch("/assets/icons.json").then(res => res.json());
                document.querySelector("#search").disabled = false;
                document.querySelector("#search").value = "";
            }
            function findIcon(searchName) {
                let resultArray = [];
                iconArray.forEach(icon => {
                    let similarityScore = stringSimilarity.compareTwoStrings(icon.name.toLowerCase(), searchName.toLowerCase())
                    resultArray.push({ name: icon.name, path: icon.path, pack: icon.pack, score: similarityScore })
                })
                resultArray.sort((a, b) => b.score - a.score);
                return resultArray.slice(0, 100)
            }
            function showIcon(searchName) {
                let results = findIcon(searchName);
                let resultString = "";
                results.forEach((result, index) => {
                    if (result.score > 0.2) resultString += `<img class="icon" src="${result.path}" data-tippy-content="<img src='${result.path}' class='icon' width='32'> <b>${result.name}</b> (${result.pack})">`
                })
                document.querySelector("#rawr").innerHTML = resultString || "<i>No icon could be found for your search. Try being more specific, or search something similar.</i>";
                tippy.hideAll();
            }
            fetchIcons();

            window.addEventListener("keypress", function(e) {
                if(document.querySelector("#search:focus")) return;
                document.querySelector("#search").value += e.key;
                document.querySelector("#search").focus();
            })
            window.addEventListener("keydown", function(e) {
                if(document.querySelector("#search:focus")) return;
                if(e.key == "Backspace") {
                    document.querySelector("#search").focus();
                }
            })
        </script>
    </body>
</html>